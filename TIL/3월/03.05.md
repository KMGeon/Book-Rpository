# [ 0305 ] TIL

---

### 목차

1. [인덱스](#인덱스)

---

### 인덱스

## 정의

- 추가적인 쓰기 작업과 저장공간을 활용하여 데이터를 정렬되게 저장, 데이터베이스 검색 속도를 높혀주는 자료구조

### 사용하는 이유

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/1cd40f6b-4747-4bba-a656-846694fd5c31/33312df0-253f-40d6-b431-e96882d380fc/Untitled.png)

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/1cd40f6b-4747-4bba-a656-846694fd5c31/6e153e9f-8b06-440a-bd6d-ec9c5b7c1519/Untitled.png)

- 컴퓨터 구조를 살펴보면 데이터를 저장하는 공간은 디스크, 메모리가 있다. 디스크에 저장하면 성능이 느리기 때문에 디스크 I/O를 줄여야한다.
- 랜덤 I/O,  순차 I/O 방식이 있는데 MySQL은 기본적으로 랜덤 I/O를 사용한다. 그래서 랜덤 I/O를 사용하면서 접근하는 ROW의 수를 줄이기 위해 인덱스를 사용한다.

| 메모리 | 디스크 |
| --- | --- |
| 속도 | 빠르다. |
| 영속성 | 전원이 공급하지 않으면 휘발 |
| 가격 | 비쌈 |

## 2. 인덱스 구조

---

- 책에서 특정한 부분의 내용을 학습을 하기 위해서 목차를 살펴본다. 만약에 목차가 없다면 처음부터 끝까지 보면서 찾아야 한다.
- 만약에 인덱스가 있다면 범위 스캔 (Range Scan)이 가능하다.
    - 인덱스가 정렬돼 있기 때문에

- 일반적으로 데이터베이스는 B Tree인덱스를 사용한다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/1cd40f6b-4747-4bba-a656-846694fd5c31/48f3fcd6-2745-446f-a8a3-19dd8cdc44a9/Untitled.png)

B Tree는 균형이 잡힌 이진 트리를 의미한다.

### 구성

- RowID = 데이터 블록 주소 + 로우 번호
- 데이터 블록 주소 = 데이터 파일 번호 + 블록 번호
- 블록 번호 = 데이터파일 내에서 부여한 상대적 순번
- 로우 번호 = 블록 내 순번

### 인덱스 Range Scan

- 인덱스 탐색은 기본적으로 수직, 수평적 탐색으로 나눈다.
    - **인덱스를 사용할 때 Range Scan을 사용하는 이유는 인덱스 스캔 시작점을 찾을 수 없기 때문이다.**
    - 즉. 일정 범위를 스캔하려면 시작점, 끝지점이 있어야 한다.

- 인덱스 컬럼을 가공을 하였을 때